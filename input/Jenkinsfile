pipeline {
    agent any
    parameters{
        choice(name: 'choice', choices: ['one', 'two'], description: '')
    }
    stages {
        stage('Example') {
            environment {
                choice = 'one'
                test = 'two'
            }
            input {
                message "Should we continue?"
                ok "Yes, we should."
                submitter "alice,bob"
                parameters {
                    //string(name: 'PERSON', defaultValue: 'Mr Jenkins', description: 'Who should I say hello to?')
                    choice(name: 'CHOICES', choices: ['one', 'two'], description: '')
                }
            }
            steps {
                script{
                    sh """
                    sh /var/lib/jenkins/script.sh "${params.choice}"
                    """
                    if(env.choice == 'one'){
                        echo "Hello nice to meet you."
                    }else {
                        echo "hey here!"
                    }
                }
            }
        }
        stage('test'){
            environment{
                sample = 'abcd'
            }
            steps{
                script{
                    testing = "${params.CHOICES}"
                    
                    echo "${testing}"
                    echo "${sample}"
                    if(params.CHOICES == 'one'){
                        echo "hi"
                    }
                }
            }
        }
    }
}
