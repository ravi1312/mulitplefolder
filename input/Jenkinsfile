pipeline {
    agent any
    parameters{
        choice(name: 'choice', choices: ['one', 'two'], description: '')
    }
    stages {
        stage('Example') {
            environment {
                choice = 'one'
                test = 'two'
            }
           // input {
             //   message "Should we continue?"
               // ok "Yes, we should."
                //submitter "alice,bob"
                //parameters {
                    //string(name: 'PERSON', defaultValue: 'Mr Jenkins', description: 'Who should I say hello to?')
                  //  choice(name: 'CHOICES', choices: ['one', 'two'], description: '')
                //}
            //}
            steps {
                script{
                    def inputConfig
                    def inputTest

                    // Get the input
                    def userInput = input(
                            id: 'userInput', message: 'Enter path of test reports:?',
                            parameters: [

                                    string(defaultValue: 'None',
                                            description: 'Path of config file',
                                            name: 'Config'),
                                    string(defaultValue: 'None',
                                            description: 'Test Info file',
                                            name: 'Test'),
                            ])

                    // Save to variables. Default to empty string if not found.
                    inputConfig = userInput.Config?:''
                    inputTest = userInput.Test?:''

                    // Echo to console
                    echo("IQA Sheet Path: ${inputConfig}")
                    echo("Test Info file path: ${inputTest}")
                    //echo "hi here it is ${params.choice}"
                    //echo "hi ${params.CHOICES}"
                    sh """
                    sh /var/lib/jenkins/script.sh "${params.choice}"
                    """
                    if(env.choice == 'one'){
                        echo "Hello nice to meet you."
                    }else {
                        echo "hey here!"
                    }
                }
            }
        }
        stage('test'){
            environment{
                sample = 'abcd'
            }
            steps{
                script{
                    testing = "${params.CHOICES}"
                    
                    echo "${testing}"
                    echo "${sample}"
                    if(params.CHOICES == 'one'){
                        echo "hi"
                    }
                }
            }
        }
    }
}
